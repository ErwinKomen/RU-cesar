{% load i18n %}
<!-- Result part 2: sentence view (kwic) -->

<div id="result_part_2">

  <div class="row container">
    {% include 'seeker/filter_list.html' %} 
  </div>

  <!-- Pagination -->
  <div class="row">
      <div class="col-sm-4"><span>Hits: </span><span>{{hitcount}}</span></div>
      <div class="col-sm-8 right">
        <span class="step-links pull-right">
          {% include 'paginationpost.html' %}
        </span>
      </div>
  </div>
    
  <!-- Show a list of sentences -->
  <div class="row">
    <table class="kwic-list">
      <thead><tr><th>Location</th><th></th><th>search</th><th></th><th>Actions</th></tr></thead>
      <tbody>
        {% for result in result_list %}
        <tr>
          <td class="kwic-loc">
            <a onclick="ru.cesar.seeker.funcdefshow(this, 'meta-details');"
               title="{{result.TextId}}&#13;{{result.Locw}}">{{result.ResId}}</a>
          </td>
          <td class="kwic-pre">{% if result.kwic_pre|length > 70 %}...{% endif %}{{result.kwic_pre|slice:"-70:"}}</td>
          <td class="kwic-hit" ><a onclick="ru.cesar.seeker.funcdefshow(this, 'kwic-details');" title="details">{{result.kwic_hit}}</a></td>
          <td class="kwic-fol">{{result.kwic_fol|truncatewords:9}}</td>
          <td class="kwic-actions">
            <a class="btn btn-default btn-xs" 
               onclick="ru.cesar.seeker.funcdefshow(this, 'kwic-details');" title="details">
              <span class="glyphicon glyphicon-zoom-in" aria-hidden="true"></span>
            </a>
          </td>
        </tr>
        <tr class="hidden kwic-details">
          <td></td>
          <td colspan="3">
            [<span class="kwic-loc">{{result.Locw}}</span>]
            {{result.kwic_pre}} <b>{{result.kwic_hit}}</b> {{result.kwic_fol}}
          </td>
          <td></td>
        </tr>
        <tr class="hidden meta-details">
          <td></td>
          <td colspan="3">
            <table>
              <tr><td>Hit:</td><td class="kwic-loc">{{result.Locw}}</td></tr>
              <tr><td>Text:</td><td class="kwic-loc">{{result.TextId}}</td></tr>
              <tr><td>TextSize:</td><td class="kwic-loc">{{result.Size}}</td></tr>
              <tr><td>Genre:</td><td class="kwic-loc">{{result.Genre}}</td></tr>
              <tr><td>Subtype:</td><td class="kwic-loc">{{result.SubType}}</td></tr>
            </table>
          </td>
          <td></td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
  </div>

  <!-- Pagination -->
  <div class="row">
      <div class="col-sm-4"><span>Hits: </span><span>{{hitcount}}</span></div>
      <div class="col-sm-8 right">
        <span class="step-links pull-right">
          {% include 'paginationpost.html' %}
        </span>
      </div>
  </div>

</div>

